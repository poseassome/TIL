# ê´€ë¦¬ì í˜ì´ì§€(2)_íšŒì›ì •ë³´ìˆ˜ì •, ì‚­ì œ
ì‘ì„±ì¼ì‹œ: 2021ë…„ 12ì›” 9ì¼ ì˜¤í›„ 2:10

## ê´€ë¦¬ììš©_íšŒì› ì •ë³´ ìˆ˜ì • í˜ì´ì§€ (edit.php)

ì¼ë°˜ ì‚¬ìš©ììš© íšŒì›ì •ë³´ ìˆ˜ì •í˜ì´ì§€(`edit.php`)ë¥¼ ë³µì‚¬í•´ì„œ ìˆ˜ì •í•œë‹¤.

ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸í•˜ì—¬ íšŒì› ëª©ë¡(`list.php`)ì— ì ‘ê·¼í•˜ê³ , **ìˆ˜ì •**ì„ í´ë¦­í•˜ë©´
í´ë¦­í•œ í•´ë‹¹ íšŒì›ì˜ ì •ë³´ê°€ ì•„ë‹Œ ê´€ë¦¬ìì˜ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.

`list.php`ì—ì„œ `edit.php`ë¡œ ì´ë™í•  ë•Œ,
í´ë¦­í•œ **ì‚¬ìš©ìì˜ idxê°’**ì„ ë„˜ê²¨ì£¼ë„ë¡ í•œë‹¤.

ì•ì„œ ì‘ì„±í•œ `list.php`ì—ì„œ
`<ahref="edit.php">**ìˆ˜ì •</a>`** ë¥¼ ìˆ˜ì •í•œë‹¤.

```php
<td><a href="**edit.php?u_idx=<?php echo $array["idx"]; ?>**">ìˆ˜ì •</a></td>
```

ì£¼ì†Œ ë’¤ì— `?`ë¥¼ ë¶™ì´ê³  í•„ìš”í•œ ì¸ìë¥¼ ì‘ì„±í•œë‹¤.

`list.php`ì—ì„œ ì‚¬ìš©ìì˜ idxê°’ì„ ë³´ëƒˆìœ¼ë©´ `edit.php`ì—ì„œëŠ” ê·¸ ê°’ì„ ë°›ì•„ì„œ ì •ë³´ë¥¼ ì¶œë ¥í•œë‹¤.

**GET ë°©ì‹**ìœ¼ë¡œ ì •ë³´ë¥¼ ë°›ëŠ”ë‹¤.

`$idx = $_GET["u_idx"];`

## ê´€ë¦¬ììš©_íšŒì› ì •ë³´ ìˆ˜ì • ì²˜ë¦¬í˜ì´ì§€ (edit_ok.php)

ê·¸ë¦¬ê³  ìˆ˜ì •í•œ ì •ë³´ë¥¼ DBì— ë°˜ì˜í•˜ê¸° ìœ„í•´ì„œ `edit_ok.php` íŒŒì¼ë¡œ ì´ë™í•˜ëŠ”ë°,
ê¸°ì¡´ ì¼ë°˜ ì‚¬ìš©ììš© íŒŒì¼ì„ ì‚¬ìš©í•˜ë©´ ê´€ë¦¬ìì˜ ì •ë³´ê°€ ë³€ê²½ëœë‹¤.

ë‚´ìš©ì´ ìˆ˜ì •ë  ì‚¬ìš©ìë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œ
`edit.php`ì˜ `<form>`ì•ˆì— `**<input>**`ì„ ì¶”ê°€í•œë‹¤.

`<input type="hidden" name="u_idx" value="<?php echo $idx; ?>">`

í•„ìš”í•œ ê°’ì´ì§€ë§Œ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ í•„ìš”ê°€ ì—†ì„ ë•Œ `<input type="hidden">`ì„ ì‚¬ìš©í•œë‹¤.

ë³´ì´ì§€ ì•Šê²Œ **ì‚¬ìš©ìì˜ idxê°’**ì„ ì…ë ¥í•˜ê³  **POST ë°©ì‹**ìœ¼ë¡œ `edit_ok.php`ì— ë³´ë‚¸ë‹¤.

`edit.php`ëŠ” **POST ë°©ì‹**ìœ¼ë¡œ ì •ë³´ë¥¼ ë°›ëŠ”ë‹¤.

`$u_idx = $_POST["u_idx"];`

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/5e757577-4005-4cd0-89cf-1b7fac370da5/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084214Z&X-Amz-Expires=86400&X-Amz-Signature=a5c4e450ed3bd0d62d9280e71657675b4f965cb1fdaba32b5821f33e1898ca6e&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

```php
<?php
	include "../inc/admin_session.php";

	/* í´ë¦­í•œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸° */
	// ì•(list.php)ì—ì„œ .php?u_idë¡œ ë„˜ê²¼ìœ¼ë‹ˆê¹Œ
	$idx = $_GET["u_idx"];

	/* DB ì—°ê²° */
	include "../../inc/dbcon.php";

	/* ì¿¼ë¦¬ ì‘ì„± */
	$sql = "select * from members where idx = '$idx';";

	/* ì¿¼ë¦¬ ì „ì†¡ */
	$result = mysqli_query($dbcon, $sql);

	/* ê²°ê³¼ ê°€ì ¸ì˜¤ê¸° */
	$array = mysqli_fetch_array($result);
?>

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íšŒì› ì •ë³´ ìˆ˜ì •</title>
  <style>
	  * {box-sizing: border-box;}
	  a {text-decoration: none; color: blue;}
	  a::after {content: " | "}
	  a:last-child::after {content: ""}
	  #u_name, #u_id, #pwd, #repwd, #birth, #mobile, #email_id, #email_dns {width: 200px; height: 25px;}
	  #postalCode {height: 25px; width: 120px;}
	  #addr1, #addr2 {width: 250px; height: 25px;}
	  p {overflow: hidden;}
	  p:last-child {text-align: center;}
	  legend {text-align: center; font-size: 18px;}
	  span {display: block; font-size: 14px; color: red; text-indent: 125px;}
	  label, .txt {display: inline-block; width: 120px; line-height: 20px; color: black; text-indent: 0;}
	  select {width: 150px; height: 25px; border: 1px solid;}
	  button {background: black; color: #fff; cursor: pointer;}
	  .delete {background: #fff; color: black;}
	  #agree {width: 20px; height: 20px; margin: 0 10px; float: left;}
	  #agree+label {display: block; float: left;}
  </style>

  <script type="text/javascript">
  function edit_check() {
    var pwd = document.getElementById("pwd");
    var repwd = document.getElementById("repwd");
    var mobile = document.getElementById("mobile");

    // ë¹„ë°€ë²ˆí˜¸
    if (pwd.value) {
      var regpwd = /^(?=.*[a-zA-Z])(?=.*[0-9]).{4,12}$/;
      if (!regpwd.test(pwd.value)) {
        var err_txt = document.querySelector(".err_pwd");
        err_txt.textContent = "ë¹„ë°€ë²ˆí˜¸ëŠ” 4~12ê¸€ì ìˆ«ì, ì˜ì–´ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.";
        pwd.focus();
        return false;
      };
    };
    // ë¹„ë°€ë²ˆí˜¸ í™•ì¸
    if (pwd.value) {
      if (pwd.value != repwd.value) {
        var err_txt = document.querySelector(".err_repwd");
        err_txt.textContent = "ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.";
        repwd.focus();
        return false;
      };
    };

    // ì „í™”ë²ˆí˜¸
    if (mobile.value) {
      var reg_mobile = /^[0-9]{10,11}$/g;
      if (!reg_mobile.test(mobile.value)) {
        var err_txt = document.querySelector(".err_mobile");
        err_txt.textContent = "ì „í™”ë²ˆí˜¸ëŠ” ìˆ«ìë§Œ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
        mobile.focus();
        return false;
      };
    };

    // ìƒë…„ì›”ì¼
    var reg_birth = /^[0-9]{8}$/g;
    if (!reg_birth.test(birth.value)) {
      var err_txt = document.querySelector(".err_birth");
      err_txt.textContent = "ìƒë…„ì›”ì¼ì€ ìˆ«ìë§Œ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.";
      birth.focus();
      return false;
    };
  };

  // ì´ë©”ì¼
  function change_email() {
    var email_dns = document.getElementById("email_dns");
    var email_sel = document.getElementById("email_sel");
    var idx = email_sel.options.selectedIndex;
    var sel_txt = email_sel.options[idx].value;
    email_dns.value = sel_txt;
  };

  // ì£¼ì†Œê²€ìƒ‰
  function addr_search() {
    window.open("search_addr.php", "", "width=600, height=400, left=0, top=0");
  };

  function del_check() {
    // alertí•˜ê³  ì°¨ì´ì  : returnê°’ì´ ìˆë‹¤ (í™•ì¸-true/ì·¨ì†Œ-false)
    var i = confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œí•œ ì•„ì´ë””ëŠ” ë³µì›í•˜ì‹¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    if (i == true) {
      // ë’¤ì— parameterë¥¼ ì•ˆë¶™ì´ë©´ ê´€ë¦¬ìê°€ ì‚­ì œë¨
      location.href = "delete.php?u_idx=<?php echo $idx; ?>";
    };
  };
  </script>
</head>

<body>
  <!-- admin.php ë‚´ìš© ê°€ì ¸ì˜´ -->
  <h2>* ê´€ë¦¬ì í˜ì´ì§€ *</h2>
  <p><?php echo $s_name; ?>ë‹˜, ì•ˆë…•í•˜ì„¸ìš”!ğŸ˜€</p>
  <p>
    <a href="/website/admin/admin.php">í™ˆìœ¼ë¡œ</a>
    <a href="#none">ê²Œì‹œíŒê´€ë¦¬</a>
    <a href="list.php">íšŒì›ê´€ë¦¬</a>
    <a href="../../login/logout.php">ë¡œê·¸ì•„ì›ƒ</a>
  </p>
  <hr>

  <!-- list.php, edit.phpì—ì„œë„ ì‚­ì œí•  ìˆ˜ ìˆê²Œ GETë°©ì‹ ì‚¬ìš© -->
  <!-- edit.php => edit_ok.phpì€ ê²½ë¡œ í•˜ë‚˜ë‹ˆê¹Œ POSTë°©ì‹ ì‚¬ìš© -->
  <!-- input type="hidden"ì€ í•„ìš”í•œ ê°’ì´ì§€ë§Œ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤„ í•„ìš”ê°€ ì—†ì„ ë•Œ ì‚¬ìš©í•œë‹¤. -->
  <form name="edit_form" action="edit_ok.php" method="post" onsubmit="return edit_check()">
    <fieldset>
      <legend>íšŒì› ì •ë³´ìˆ˜ì •</legend>
      <input type="hidden" name="u_idx" value="<?php echo $idx; ?>">
      <p>
        <span class="txt">ì´ë¦„</span>
        <?php echo $array["u_name"]; ?>
      </p>
      <p><span class="txt">ì•„ì´ë””</span>
        <?php echo $array["u_id"]; ?>
      </p>
      <p><label for="pwd">ë¹„ë°€ë²ˆí˜¸</label>
        <input type="password" name="pwd" id="pwd" class="pwd">
        <span class="err_pwd">* ë¹„ë°€ë²ˆí˜¸ëŠ” 4~12ê¸€ìë§Œ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
      </p>
      <p><label for="repwd">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
        <input type="password" name="repwd" id="repwd" class="repwd">
        <span class="err_repwd"></span>
      </p>
      <?php
      /* ë¬¸ì ì¹˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜
        str_replace("ì–´ë–¤ ë¬¸ìë¥¼", "ì–´ë–¤ ë¬¸ìë¡œ", "ì–´ë–¤ ë¬¸ìì—ì„œ"); */
        $birth = str_replace("-","", $array["birth"]);
      ?>
      <p><label for="birth">ìƒë…„ì›”ì¼</label>
        <input type="text" name="birth" id="birth" class="birth" value="<?php echo $birth; ?>">
        <span class="err_birth"> *ex)20211022 </span>
      </p>
      <p><label for="postalCode">ìš°í¸ë²ˆí˜¸</label>
        <input type="text" name="postalCode" id="postalCode" class="postalCode" size="5"
          value="<?php echo $array["postalCode"]; ?>">
        <button type="button" name="" id="" class="btn" onclick="addr_search()">ì£¼ì†Œê²€ìƒ‰</button><br>
        <label for="addr1">ê¸°ë³¸ì£¼ì†Œ</label>
        <input type="text" name="addr1" id="addr1" class="addr1" value="<?php echo $array["addr1"]; ?>"><br>
        <label for="addr2">ìƒì„¸ì£¼ì†Œ</label>
        <input type="text" name="addr2" id="addr2" class="addr2" value="<?php echo $array["addr2"]; ?>">
      </p>
      <?php
      /* ë¬¸ì¥ì„ ë¶„ë¦¬í•˜ëŠ” í•¨ìˆ˜
        explode("ê¸°ì¤€ë¬¸ì", "ì–´ë–¤ ë¬¸ì¥ì—ì„œ"); */
        $email = explode("@", $array["email"]);
      ?>
      <p><label for="email_id">ì´ë©”ì¼</label>
        <input type="text" name="email_id" id="email_id" class="email_id" value="<?php echo $email[0]; ?>">
        @
        <input type="text" name="email_dns" id="email_dns" class="email_dns" value="<?php echo $email[1]; ?>">
        <select name="email_sel" id="email_sel" class="email_sel" onchange="change_email()">
          <option value="">ì§ì ‘ì…ë ¥</option>
          <option value="naver.com">NAVER</option>
          <option value="daum.net">DAUM</option>
          <option value="google.com">GOOGLE</option>
        </select>
      </p>
      <?php
        $mobile = str_replace("-", "", $array["mobile"]);
      ?>
      <p><label for="mobile">ì „í™”ë²ˆí˜¸</label>
        <input type="text" name="mobile" id="mobile" class="mobile" value="<?php echo $mobile; ?>">
        <span class="err_mobile">"-"ì—†ì´ ìˆ«ìë§Œ ì…ë ¥</span>
      </p>
      <p>
        <button type="button" class="btn" onclick="history.back()">ì´ì „ìœ¼ë¡œ</button>
        <button type="button" class="btn" onclick="location.href='list.php'">í™ˆìœ¼ë¡œ</button>
        <button type="button" class="btn delete" onclick="del_check()">íšŒì›ì‚­ì œ</button>
        <button type="submit" class="btn">ì •ë³´ìˆ˜ì •</button>
      </p>
    </fieldset>
  </form>
</body>

</html>
```

```php
<?php
/* ì´ì „ í˜ì´ì§€ì—ì„œ ê°’ ê°€ì ¸ì˜¤ê¸° */
**$u_idx = $_POST["u_idx"];**
$pwd = $_POST["pwd"];   //<-- ìˆì„ ìˆ˜ë„ ìˆê³  ì—†ì„ ìˆ˜ë„ ìˆìŒ.
$birth = $_POST["birth"];
$postalCode = $_POST["postalCode"];
$addr1 = $_POST["addr1"];
$addr2 = $_POST["addr2"];
$email = $_POST["email_id"]."@".$_POST["email_dns"];
$mobile = $_POST["mobile"];

/* DB ì ‘ì† */
include "../../inc/dbcon.php";

/* ì¿¼ë¦¬ ì‘ì„± */
// update í…Œì´ë¸”ëª… set í•„ë“œëª…=ê°’, í•„ë“œëª…=ê°’, ...;
// ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ìœ ë¬´ì— ë”°ë¼ ì¿¼ë¦¬ë¬¸ì´ ë‹¤ë¥´ë‹¤.
if(!$pwd){
  $sql = "update members set birth='$birth', postalCode='$postalCode', addr1='$addr1', addr2='$addr2', email='$email', mobile='$mobile' where idx = '$u_idx';";
}else{
  $sql = "update members set pwd='$pwd', birth='$birth', postalCode='$postalCode', addr1='$addr1', addr2='$addr2', email='$email', mobile='$mobile' where idx = '$u_idx';";
}
// echo $sql;
// exit;

/* ë°ì´í„°ë² ì´ìŠ¤ì— ì¿¼ë¦¬ ì „ì†¡ */
mysqli_query($dbcon, $sql);

/* DB(ì—°ê²°) ì¢…ë£Œ */
mysqli_close($dbcon);

/* ë¦¬ë””ë ‰ì…˜ */
echo "
  <script type=\"text/javascript\">
    alert(\"ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.\");
    location.href=\"edit.php?u_idx=$u_idx\";
    // history.back();
</script>
";
?>
```

ì •ë³´ ìˆ˜ì • í›„ íšŒì›ì •ë³´ ìˆ˜ì • í˜ì´ì§€ë¡œ ëŒì•„ê°ˆ ë•Œë„ **idx** ì •ë³´ë¥¼ ë³´ë‚´ì¤€ë‹¤.

---

## ê´€ë¦¬ììš©_íšŒì› ì‚­ì œ í˜ì´ì§€ (delete.php)

ê´€ë¦¬ìê°€ íšŒì›ì„ ì‚­ì œí•˜ëŠ” ê²½ë¡œëŠ” 2ê°€ì§€ê°€ ìˆë‹¤.

1. íšŒì› ê´€ë¦¬ ëª©ë¡(`list.php`)ì—ì„œ ì‚­ì œ
2. íšŒì› ì •ë³´ ìˆ˜ì • í˜ì´ì§€(`edit.php`)ì—ì„œ ì‚­ì œ

ë‘˜ ë‹¤ `delete.php`ë¡œ ì´ë™í•œë‹¤.

### 1) íšŒì› ê´€ë¦¬ ëª©ë¡(list.php)ì—ì„œ ì‚­ì œ

íšŒì› ì‚­ì œëŠ” ë°”ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•Šê³  ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ì•Œë¦¼ì°½ì„ ë„ìš°ê³  ì‹¤í–‰í•œë‹¤.

í´ë¦­í•œ ì‚¬ìš©ìë¥¼ ì‚­ì œí•˜ê¸° ìœ„í•´ì„œëŠ” ì‚¬ìš©ìì˜ idxê°’ì´ í•„ìš”í•œë°,
`<script>`ì˜ `functiondel_check( ){    }` ë‚´ë¶€ì—ì„œ `**$array["idx"]**`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.

â‡’ í•´ë‹¹ ë¶€ë¶„ì—ì„œëŠ” ì•„ì§ `**mysqli_fetch_arraty()**`ê°€ ì‹¤í–‰ë˜ê¸° ì „ì´ê¸° ë•Œë¬¸ì´ë‹¤.

ë”°ë¼ì„œ, íšŒì›ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°˜ë³µë¬¸ ë¶€ë¶„ì—ì„œ í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.

`<script>`ì˜ `**del_check()**`ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ì„œ delete.phpë¡œ ì´ë™í•  ë•Œ idxê°’ì„ ì „ë‹¬ í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

```php
<script>
	// ë§¤ê°œë³€ìˆ˜ ë°›ì•„ì„œ í•¨ìˆ˜ ì‹¤í–‰í•œë‹¤.
	function del_check(**idx**) {
	  var i = confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œí•œ ì•„ì´ë””ëŠ” ë³µì›í•˜ì‹¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
	  if (i == true) {
	    // ë’¤ì— parameterë¥¼ ì•ˆë¶™ì´ë©´ ê´€ë¦¬ìê°€ ì‚­ì œë¨
	    location.href = "delete.php?u_idx=" + **idx**;
	  };
	};
</script>

...

<?php
  $i = 1;
  while($array = mysqli_fetch_array($result)){
?>
<tr>
  <td><?php echo $i; ?></td>
  <td><?php echo $array["u_name"]; ?></td>
  <td><?php echo $array["u_id"]; ?></td>
  <td><?php echo $array["birth"]; ?></td>
  <td><?php echo $array["postalCode"]." ".$array["addr1"]." ".$array["addr2"]; ?></td>
  <td><?php echo $array["email"]; ?></td>
  <td><?php echo $array["mobile"]; ?></td>
  <td><?php echo $array["reg_date"]; ?></td>
  <td><a href="edit.php?u_idx=<?php echo $array["idx"]; ?>">ìˆ˜ì •</a></td>
  <td><a href="#" onclick="del_check(<?php echo $array['idx']; ?>)">ì‚­ì œ</a></td>
  <!-- scriptì—ì„œ <?php ?>ë¥´ ì‚¬ìš©í•˜ë©´ ë³€ìˆ˜ê°€ ìƒì„±ì´ ì•ˆëœ ìƒíƒœì—¬ì„œ ì‹¤í–‰ì´ ì•ˆë¨. ì—¬ê¸°ì„œ ë§¤ê°œë³€ìˆ˜ë¡œ ë³´ë‚´ë²„ë¦°ë‹¤. -->
</tr>
<?php
  $i++;
  }; ?>
```

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f6a7c045-b111-485a-bff3-0d587c38bbd5/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084234Z&X-Amz-Expires=86400&X-Amz-Signature=b2a69ffd67e269b42733441fcc9d776aba2df3d2fe197142d15389a4612bd141&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

### 2) íšŒì› ì •ë³´ ìˆ˜ì • í˜ì´ì§€(edit.php)ì—ì„œ ì‚­ì œ

edit.phpì—ì„œëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  í•„ìš” ì—†ì´,
íšŒì› ì •ë³´ ìˆ˜ì • í˜ì´ì§€ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ ì´ë¯¸ `list.php` ì—ì„œ
 **GET ë°©ì‹**ìœ¼ë¡œ **idx** ê°’ì„ ë„˜ê²¨ì£¼ì—ˆê¸° ë•Œë¬¸ì— ì´ë¯¸ ì§ì„±í•œ `$idx = $_GET["u_idx"];` ë¥¼ ì‚¬ìš©í•œë‹¤.

```php
<script>
	function del_check() {
	  var i = confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì‚­ì œí•œ ì•„ì´ë””ëŠ” ë³µì›í•˜ì‹¤ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
	  if (i == true) {
	    // ë’¤ì— parameterë¥¼ ì•ˆë¶™ì´ë©´ ê´€ë¦¬ìê°€ ì‚­ì œë¨
	    location.href = "delete.php?u_idx=<?php echo $idx; ?>";
	  };
	};
</script>

...

<p>
  <button type="button" class="btn" onclick="history.back()">ì´ì „ìœ¼ë¡œ</button>
  <button type="button" class="btn" onclick="location.href='list.php'">í™ˆìœ¼ë¡œ</button>
  <button type="button" class="btn delete" onclick="del_check()">íšŒì›ì‚­ì œ</button>
  <button type="submit" class="btn">ì •ë³´ìˆ˜ì •</button>
</p>
```

`list.php`ì™€ `edit.php`ê°€ ë³´ë‚¸ **idx**ë¥¼ `delete.php`ëŠ” **GET**ìœ¼ë¡œ ë°›ì•„ì„œ delete ì¿¼ë¦¬ë¥¼ ì§„í–‰í•œë‹¤.

ì´ ë•Œ ì¼ë°˜ ì‚¬ìš©ìëŠ” **session ì •ë³´**ë„ ì‚­ì œí–ˆì§€ë§Œ,
ì—¬ê¸°ì„œ ì‹¤í–‰í•˜ë©´ ê´€ë¦¬ìê°€ ë¡œê·¸ì•„ì›ƒë˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ ë¶€ë¶„ì€ ì‚­ì œí•œë‹¤.

```php
<?php
	$idx = $_GET["u_idx"];

	/* DB ì—°ê²° */
	include "../../inc/dbcon.php";

	/* ì¿¼ë¦¬ ì‘ì„± */
	$sql = "delete from members where idx='$idx';";

	/* ë°ì´í„°ë² ì´ìŠ¤ì— ì¿¼ë¦¬ ì „ì†¡ */
	mysqli_query($dbcon, $sql);

	/* DB(ì—°ê²°) ì¢…ë£Œ */
	mysqli_close($dbcon);

	/* ë¦¬ë””ë ‰ì…˜ */
	echo "
	  <script type=\"text/javascript\">
	    alert(\"ì •ìƒì²˜ë¦¬ ë˜ì—ˆìŠµë‹ˆë‹¤.\");
	    location.href=\"list.php\";
	  </script>
	";
?>
```

---