# ê´€ë¦¬ì í˜ì´ì§€(1)_íšŒì›ê´€ë¦¬ëª©ë¡
ì‘ì„±ì¼ì‹œ: 2021ë…„ 12ì›” 8ì¼ ì˜¤í›„ 2:08

### ë””ë ‰í† ë¦¬ êµ¬ì„±

- ğŸ“htdocs
    - ğŸ“website

        ğŸ“index.php

        - **ğŸ“admin   *(new)***

            ğŸ“admin.php

            - ğŸ“‚inc

                ğŸ“admin_session.php

            - ğŸ“‚members

                ğŸ“list.php

                ğŸ“edit.php

                ğŸ“edit_ok.php

                ğŸ“delete.php

        - ğŸ“inc

            ğŸ“dbcon.php

        - ğŸ“members

            ğŸ“join.php

            ğŸ“insert.php

            ğŸ“searchID.php

            ğŸ“result.php

            ğŸ“search_addr.php

            ğŸ“result_addr.php

            ğŸ“welcome.php

            ğŸ“edit.php

            ğŸ“edit_ok.php

            **ğŸ“delete.php *(new)***

        - ğŸ“login

            ğŸ“login.php

            ğŸ“login_ok.php

            ğŸ“logout.php


**website**ì— **ê´€ë¦¬ììš©** **adminí´ë”ì™€ ê·¸ ì•ˆì— íŒŒì¼**ì„ ì¶”ê°€í–ˆë‹¤.

---

## ê´€ë¦¬ì í˜ì´ì§€ (admin.php)

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f1b6a228-7099-43e5-8eae-48989f7b5cb1/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084104Z&X-Amz-Expires=86400&X-Amz-Signature=d62e1954aa48f5cc37e2f81305aee0be19310137037a2933eda43cb0b82b2a89&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸í•˜ë©´ ì¼ë°˜ ì‚¬ìš©ìì™€ ë‹¤ë¥´ê²Œ ê´€ë¦¬ì ë©”ë‰´ê°€ ë³´ì´ê³ ,
í•´ë‹¹ ë©”ë‰´ í´ë¦­ ì‹œ ì´ë™í•˜ëŠ” `ê´€ë¦¬ì í˜ì´ì§€`ë¥¼ ì‘ì„±í•œë‹¤.

`ê´€ë¦¬ì í˜ì´ì§€`ëŠ” `ì¸ë±ìŠ¤í˜ì´ì§€`ì™€ ë¹„ìŠ·í•˜ë‹¤.

ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ê´€ë¦¬ìì„ì„ êµ¬ë¶„í•˜ê¸°ìœ„í•´ **session**ì—ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³ ,
ê´€ë¦¬ìì„ì´ í™•ì¸ë˜ë©´ ê´€ë¦¬ì í˜ì´ì§€ë¥¼ ì¶œë ¥í•œë‹¤.

**ê´€ë¦¬ì ì•„ë‹Œ ì‚¬ìš©ìê°€ ì ‘ê·¼í•  ì‹œ**,
ì•Œë¦¼ì°½ì„ ë„ìš°ê³  `ì¸ë±ìŠ¤ í˜ì´ì§€`ë¡œ ì´ë™í•˜ë„ë¡ í•œë‹¤.

```php
<?php
	session_start();

	$s_id = isset($_SESSION["s_id"])? $_SESSION["s_id"] : "";
	$s_name = isset($_SESSION["s_name"])? $_SESSION["s_name"] : "";

	if(**!$s_id || ($s_id != "admin"**)){
	  echo "
	    <script type=\"text/javascript\">
	    alert(\"ì‚¬ìš© ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\");
	      location.href=\"../index.php\";
	    </script>
	  ";
	};
?>
```

ì„¸ì…˜ì€ ê´€ë¦¬ì í˜ì´ì§€ì˜ ëª¨ë“  ê³³ì—ì„œ í•„ìš”í•œ ì •ë³´ì´ê¸° ë•Œë¬¸ì—
ë³„ë„ë¡œ ì €ì¥(**ğŸ“‚admin>ğŸ“‚inc>ğŸ“admin_session.php**)í•˜ì—¬ í˜ì´ì§€ë§ˆë‹¤ ë¶ˆëŸ¬ì˜¤ë„ë¡ í•œë‹¤.

ê´€ë¦¬ì í˜ì´ì§€ì˜ ë©”ë‰´ë¡œëŠ” í™ˆ / ê²Œì‹œíŒ ê´€ë¦¬ / íšŒì› ê´€ë¦¬ / ë¡œê·¸ì•„ì›ƒì„ ë§Œë“ ë‹¤.

- í™ˆìœ¼ë¡œ ì´ë™
- ê²Œì‹œíŒê´€ë¦¬
    - ê²Œì‹œê¸€ ë“±ë¡, ì‚­ì œ, ìˆ˜ì •
- íšŒì›ê´€ë¦¬
    - íšŒì› ëª©ë¡ ì¡°íšŒ, íšŒì›ì •ë³´ ìˆ˜ì •, ì‚­ì œ
- ë¡œê·¸ì•„ì›ƒ

```php
<?php
	include "inc/admin_session.php";
?>

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê´€ë¦¬ì í˜ì´ì§€</title>
  <style type="text/css">
	  a {text-decoration: none; color: blue;}
	  a::after {content: " | "}
	  a:last-child::after {content: "";}
  </style>
</head>

<body>
  <h2>* ê´€ë¦¬ì í˜ì´ì§€ *</h2>
  <p><?php echo $s_name; ?>ë‹˜, ì•ˆë…•í•˜ì„¸ìš”!ğŸ˜€</p>
  <p>
    <a href="/website/admin/admin.php">í™ˆìœ¼ë¡œ</a>
    <!-- <a href="board/board_lis.php">ê²Œì‹œíŒê´€ë¦¬</a> -->
    <!-- ê²Œì‹œíŒ ê´€ë¦¬ëŠ” í•œìª½ì— ê²Œì‹œíŒ ëª©ë¡/ ì˜†ì— í•´ë‹¹ ëª©ë¡ ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ ë‚˜ì˜¤ëŠ” í˜•íƒ -->
    <a href="#none">ê²Œì‹œíŒê´€ë¦¬</a>
    <a href="members/list.php">íšŒì›ê´€ë¦¬</a>
    <a href="../login/logout.php">ë¡œê·¸ì•„ì›ƒ</a>
  </p>
  <hr>
</body>

</html>
```

![ì¼ë°˜ ì‚¬ìš©ì ì ‘ê·¼ ì‹œ](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/a4efa2a2-cb76-4e37-9230-4ca99096ccba/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084116Z&X-Amz-Expires=86400&X-Amz-Signature=4769d093c81eec8aa8b7335651968937a060ce9cffcb95ff745e0729336d10df&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

ì¼ë°˜ ì‚¬ìš©ì ì ‘ê·¼ ì‹œ

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/74bccaec-5058-4d8e-b3b8-d68b21ae5f09/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084123Z&X-Amz-Expires=86400&X-Amz-Signature=399a37773521a24a96960e1cc5a0bf4838ccde2d608c3586a0ec6cd7f6551642&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

---

## íšŒì›ê´€ë¦¬ í˜ì´ì§€ (list.php)

í•´ë‹¹ í˜ì´ì§€ì—ì„œ ëª¨ë“  íšŒì›ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆìœ¼ë©°, ê´€ë¦¬ìê°€ íšŒì› ì •ë³´ë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•  ìˆ˜ ìˆë‹¤.

í•´ë‹¹ í˜ì´ì§€ëŠ” íšŒì›ì •ë³´ ìˆ˜ì • í˜ì´ì§€(`edit.php`)ì™€ ë¹„ìŠ·í•˜ë‹¤.

í˜ì´ì§€ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ìì„ì„ í™•ì¸í•˜ê¸° ìœ„í—¤ **session**ì—ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê³ ,
**DBì— ì—°ê²°**í•˜ì—¬ ëª¨ë“  **ì •ë³´ë¥¼ ì¡°íšŒ**í•˜ê³  ê·¸ **ê²°ê³¼**ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

```php
<?php
	include "../inc/admin_session.php";

	/* DB ì—°ê²° */
	include "../../inc/dbcon.php";

	/* ì¿¼ë¦¬ ì‘ì„± */
	$sql = "select * from members;";

	/* ì¿¼ë¦¬ ì „ì†¡ */
	$result = mysqli_query($dbcon, $sql);

	/* ê²°ê³¼ ê°€ì ¸ì˜¤ê¸° */
	$array = mysqli_fetch_array($result);
	$num = mysqli_num_rows($result);
?>
```

íšŒì› ëª©ë¡ì€ `<table>`ì„ ì‚¬ìš©í•˜ì—¬ ë‚˜íƒ€ë‚¸ë‹¤.

`<table>`ì˜ ì œëª©ì€ **html**ë¡œ ì‘ì„±í•˜ë©°, ê·¸ ë°‘ì˜ ì •ë³´ë“¤ì€ **PHP**ë¥¼ ì‚¬ìš©í•˜ì—¬ DBì˜ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.

ì´ ë•Œ, ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•œë‹¤.

### 1) forë¬¸ ì‚¬ìš©

ìƒë‹¨ `<?php ?>`ì—ì„œ ë°ì´í„°ë¥¼ ë°°ì—´ë¡œ ì²˜ë¦¬í•˜ê³ ,
**ë°ì´í„° í–‰ì˜ ìˆ˜ì™€ ì‘ê±°ë‚˜ ê°™ì•„ì§ˆ ë•Œê¹Œì§€ ë°˜ë³µ**í•˜ì—¬ ë°°ì—´ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

```php
<?php
	include "../inc/admin_session.php";

	/* DB ì—°ê²° */
	include "../../inc/dbcon.php";

	/* ì¿¼ë¦¬ ì‘ì„± */
	$sql = "select * from members;";

	/* ì¿¼ë¦¬ ì „ì†¡ */
	$result = mysqli_query($dbcon, $sql);

	/* ê²°ê³¼ ê°€ì ¸ì˜¤ê¸° */
	$array = mysqli_fetch_array($result);
	$num = mysqli_num_rows($result);
?>

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íšŒì› ëª©ë¡</title>
  <style>
	  a {text-decoration: none; color: blue;}
	  a::after {content: " | "}
	  a:last-child::after {content: ""}
  </style>
</head>

<body>
  <!-- admin.php ë‚´ìš© ê°€ì ¸ì˜´ -->
  <h2>* ê´€ë¦¬ì í˜ì´ì§€ *</h2>
  <p><?php echo $s_name; ?>ë‹˜, ì•ˆë…•í•˜ì„¸ìš”!ğŸ˜€</p>
  <p>
    <a href="/website/admin/admin.php">í™ˆìœ¼ë¡œ</a>
    <a href="#none">ê²Œì‹œíŒê´€ë¦¬</a>
    <a href="members/list.php">íšŒì›ê´€ë¦¬</a>
    <a href="../../login/logout.php">ë¡œê·¸ì•„ì›ƒ</a>
  </p>
  <hr>

  <p>ì´ <?php echo $num; ?>ëª…</p>
  <table border="1">
    <tr>
      <td>ë²ˆí˜¸</td>
      <td>ì´ë¦„</td>
      <td>ì•„ì´ë””</td>
      <td>ìƒë…„ì›”ì¼</td>
      <td>ì£¼ì†Œ</td>
      <td>ì´ë©”ì¼</td>
      <td>ì „í™”ë²ˆí˜¸</td>
      <td>ê°€ì…ì¼</td>
      <td>ìˆ˜ì •</td>
      <td>ì‚­ì œ</td>
    </tr>
    <?php
      for($i=1; $i<=$num; $i++){
    ?>
    <tr>
      <td><?php echo $i; ?></td>
      <td><?php echo $array["u_name"]; ?></td>
      <td><?php echo $array["u_id"]; ?></td>
      <td><?php echo $array["birth"]; ?></td>
      <td><?php echo $array["postalCode"]." ".$array["addr1"]." ".$array["addr2"]; ?></td>
      <td><?php echo $array["email"]; ?></td>
      <td><?php echo $array["mobile"]; ?></td>
      <td><?php echo $array["reg_date"]; ?></td>
      <td><a href="edit.php">ìˆ˜ì •</a></td>
      <td><a href="delete.php">ì‚­ì œ</a></td>
    </tr>
    <?php
       };
		?>
  </table>
</body>

</html>
```

ì‹¤í–‰í•˜ë©´ **ê°™ì€ ë°ì´í„°ë§Œì„ ë°˜ë³µí•´ì„œ ê°€ì ¸ì˜¤ëŠ” ë¬¸ì œì **ì´ ìˆë‹¤.

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/2d4a10f9-506d-4f3e-a4a2-76465c0169e9/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084135Z&X-Amz-Expires=86400&X-Amz-Signature=503d9a650f547616c9fba8bab5683a93c728873ab9f61df4b48c1bad7f5ff1c5&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

### 2) whileë¬¸ ì‚¬ìš©

ìƒë‹¨ `<?php ?>`ì—ì„œ ë°ì´í„°ë¥¼ ë°°ì—´ë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šê³ , whileë¬¸ ì•ˆì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ í•œë‹¤.
**ë³´ë‚¸ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ í–‰ì´ ëë‚  ë•Œê¹Œì§€ ìë™ ë°˜ë³µ ì‹¤í–‰**í•˜ì—¬ ë°°ì—´ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

```php
<?php
	include "../inc/admin_session.php";

	/* DB ì—°ê²° */
	include "../../inc/dbcon.php";

	/* ì¿¼ë¦¬ ì‘ì„± */
	$sql = "select * from members;";

	/* ì¿¼ë¦¬ ì „ì†¡ */
	$result = mysqli_query($dbcon, $sql);

	/* ê²°ê³¼ ê°€ì ¸ì˜¤ê¸° */
	$num = mysqli_num_rows($result);
?>

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íšŒì› ëª©ë¡</title>
  <style>
	  a {text-decoration: none; color: blue;}
	  a::after {content: " | "}
	  a:last-child::after {content: ""}
  </style>
</head>

<body>
  <!-- admin.php ë‚´ìš© ê°€ì ¸ì˜´ -->
  <h2>* ê´€ë¦¬ì í˜ì´ì§€ *</h2>
  <p><?php echo $s_name; ?>ë‹˜, ì•ˆë…•í•˜ì„¸ìš”!ğŸ˜€</p>
  <p>
    <a href="/website/admin/admin.php">í™ˆìœ¼ë¡œ</a>
    <a href="#none">ê²Œì‹œíŒê´€ë¦¬</a>
    <a href="members/list.php">íšŒì›ê´€ë¦¬</a>
    <a href="../../login/logout.php">ë¡œê·¸ì•„ì›ƒ</a>
  </p>
  <hr>

  <p>ì´ <?php echo $num; ?>ëª…</p>
  <table border="1">
    <tr>
      <td>ë²ˆí˜¸</td>
      <td>ì´ë¦„</td>
      <td>ì•„ì´ë””</td>
      <td>ìƒë…„ì›”ì¼</td>
      <td>ì£¼ì†Œ</td>
      <td>ì´ë©”ì¼</td>
      <td>ì „í™”ë²ˆí˜¸</td>
      <td>ê°€ì…ì¼</td>
      <td>ìˆ˜ì •</td>
      <td>ì‚­ì œ</td>
    </tr>
    <?php
      $i = 1;
      while($array = mysqli_fetch_array($result)){
      ?>
    <tr>
      <td><?php echo $i; ?></td>
      <td><?php echo $array["u_name"]; ?></td>
      <td><?php echo $array["u_id"]; ?></td>
      <td><?php echo $array["birth"]; ?></td>
      <td><?php echo $array["postalCode"]." ".$array["addr1"]." ".$array["addr2"]; ?></td>
      <td><?php echo $array["email"]; ?></td>
      <td><?php echo $array["mobile"]; ?></td>
      <td><?php echo $array["reg_date"]; ?></td>
      <td><a href="edit.php">ìˆ˜ì •</a></td>
      <td><a href="delete.php">ì‚­ì œ</a></td>
    </tr>
    <?php
        $i++;
       }; ?>
  </table>
</body>

</html>
```

ë³€ìˆ˜ `i`ë¥¼ ì„¤ì •í•˜ì—¬ ì¦ê°ì‹ì„ ì‘ì„±í•´ ë²ˆí˜¸ë¥¼ ì¶œë ¥í•œë‹¤.

![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/21bf0d87-f48e-46a9-8ff7-9527c9ccea05/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084145Z&X-Amz-Expires=86400&X-Amz-Signature=8c409b1a185a32a678e8d36d4890f89070f31a88e2386a1bb816cc7c5c5176d6&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)

- **ê´€ë¦¬ì ì •ë³´ëŠ” ì œì™¸í•˜ê³  íšŒì› ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°**

    ì‘ì„±í•œ ì¿¼ë¦¬ë¥¼ ìˆ˜ì •í•œë‹¤.

    ```php
    $sql = "select * from members **where u_id not in ('$s_id')**;";
    ```

    ![Untitled](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/80caef56-fd61-4161-8202-c4701c1aa23b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20211220%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20211220T084153Z&X-Amz-Expires=86400&X-Amz-Signature=58a05e21124ac77680ee78d1553f0ec55ddb04663ea1d8b2f5d7c595a7e0a30e&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22Untitled.png%22&x-id=GetObject)


---